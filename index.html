<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Calling API</title>
    
    <!-- style files  -->
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">

    <!-- javascript files  -->
    <script src="js/jquery-3.4.1.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    
    <style>
      *{margin: 0;padding: 0;box-sizing: border-box;}


    </style>
  </head>
  <body>
    <div class="container">
      <div class="row mt-3">

<!------------------  Calling API by using City Name  ------------------------->
        <div class="col-6">
          <h6>Calling API by using City Name</h6>
          <label>City Name :</label>
          <select id="selectName">
              <option>Jordan</option> <!-- 400 -->
              <option>Egypt</option> <!-- 818 -->
              <option>Turkey</option> <!-- 792 -->
              <option>Lebanon</option> <!-- 422 -->
              <option>USA</option> <!-- 840 -->
              <option>Australia</option> <!-- 036 -->
          </select>
          <div id="outputResultName" class="row"></div>
        </div>

<!------------------  Calling API by using City Id  ------------------------->
        <div class="col-6">
          <h6>Calling API by using City Id as a value inside option tag</h6>
          <label>Choose City :</label>
          <select id="selectId">
              <option value="5659996">Jordan</option>
              <option value="4102581">Egypt</option>
              <option value="4490053">Turkey</option>
              <option value="5197517">Lebanon</option>
              <option value="1855757">USA</option>
              <option value="3556437">Australia</option>
          </select>
          <div id="outputResultId" class="row"></div>
        </div>


      </div>
    </div>



    <!-- <script src="custom.js"></script> -->
    <script>
      $( document ).ready(function() {
          var api_url = "https://api.openweathermap.org/data/2.5/weather";


          $("#selectName").change(function(){
              var cityName = $("#selectName option:selected").html();
              var myKey = "15a78bdf7be0fd8857aa0222e8baa4b1";
              $.ajax({
                  type: "GET",
                  url: api_url + "?q=" + cityName + "&appid=" + myKey + "&units=metric",
                  success: function(result){
                      $("#outputResultName").html(
                          "<div class='col-12 my-3'>" +
                              "<h3 class='col-12 text-uppercase'>" + result.name + "</h3>" +
                          "</div>" +
                          "<div class='row col-12 text-center'>" +
                              "<p class='col-12'>Weather= " + result.weather[0].description + "</p>" +
                              "<p class='col-12'>Min Temp= " + result.main.temp_min + "</p>" +
                              "<p class='col-12'>Max Temp= " + result.main.temp_max + "</p>" +
                              "<p class='col-12'>humidity= " + result.main.humidity + "</p>" +
                              "<p class='col-12'>Wind Speed= " + result.wind.speed + "</p>" +
                              "<p class='col-12'>Pressure= " + result.main.pressure + "</p>" +
                              "<p class='col-12'>City Id= " + result.id + "</p>" +
                          "</div>"
                      );
                  }
              });
          });


          $("#selectId").change(function(){              
              var cityId = $(this).val();
              var myKey = "15a78bdf7be0fd8857aa0222e8baa4b1";
              $.ajax({
                  type: "GET",
                  url: api_url + "?id=" + cityId + "&appid=" + myKey + "&units=metric",
                  success: function(result){
                      $("#outputResultId").html(
                          "<div class='col-12 my-3'>" +
                              "<h3 class='col-12 text-uppercase'>" + result.name + "</h3>" +
                          "</div>" +
                          "<div class='row col-12 text-center'>" +
                              "<p class='col-12'>Weather= " + result.weather[0].description + "</p>" +
                              "<p class='col-12'>Min Temp= " + result.main.temp_min + "</p>" +
                              "<p class='col-12'>Max Temp= " + result.main.temp_max + "</p>" +
                              "<p class='col-12'>humidity= " + result.main.humidity + "</p>" +
                              "<p class='col-12'>Wind Speed= " + result.wind.speed + "</p>" +
                              "<p class='col-12'>Pressure= " + result.main.pressure + "</p>" +
                              "<p class='col-12'>City Id= " + result.id + "</p>" +
                          "</div>"
                      );
                  }
              });
          });
      });
    </script>
  </body>
</html>